# Backlog спринта 34

Даты: 15–22 ноября 2025  
Статус: Запланирован ⏳

## Приоритеты
- P1: Критично для стабильности/безопасности (подпись вебхуков, интеграционные тесты)
- P2: Важные улучшения (архивирование и очистка, метрики)
- P3: Дополнительно (рефакторинг документации)

## Задачи

### P1
- S34-01 Исследовать подпись вебхуков Suno (@oat70) — 3 SP
  - Описание: изучить доступные заголовки и схему подписи; подготовить пример расчёта.
  - Критерии приёмки: документация с примерами заголовков; подтверждён алгоритм.
- S34-02 Реализовать проверку подписи в `generate-music-callb` (@oat70) — 5 SP
  - Описание: добавить валидацию подписи на входе; корректные ответы при неверной подписи.
  - Критерии приёмки: юнит/интеграционные тесты, обновлённая документация.
- S34-05 Интеграционные тесты повторной доставки (@qa) — 5 SP
  - Описание: сценарии дублей вебхука и их игнорирование; отчёт в CI.
  - Критерии приёмки: тесты проходят; зафиксирован отчёт в Actions.

### P2
- S34-03 Миграция `tracks.archived_at` (@core-team) — 3 SP
  - Описание: добавить поле; учесть совместимость с текущими запросами.
  - Критерии приёмки: миграция успешна; документация обновлена.
- S34-04 Учёт `archived_at` в очистке Storage (@core-team) — 3 SP
  - Описание: исключить архивные треки из удаления; обновить план очистки.
  - Критерии приёмки: тесты обновлены и проходят.
- S34-06 Метрики webhook‑обработки (@devops) — 5 SP
  - Описание: настроить сбор метрик; добавить визуализацию/экспорт.
  - Критерии приёмки: метрики доступны; описана схема.

### P3
- S34-07 Обновление документации API и архитектуры (@docs) — 3 SP
  - Описание: дополнить API_REFERENCE и webhooks.md; обновить диаграммы.
  - Критерии приёмки: PR с ревью; ссылки проверены.

## Встречи
- Планирование: 2025‑11‑15 10:00–11:00
- Стендапы: ежедневно 10:00–10:15
- Ретроспектива: 2025‑11‑22 17:00–18:00