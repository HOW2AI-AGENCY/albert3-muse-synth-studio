# Sprint 36: Stem Studio V1 (2025-11-23 - 2025-12-06)

## Цели спринта

- **Полный рефакторинг:** Удалить устаревший и неиспользуемый функционал DAW/Studio.
- **Разработка "Stem Studio":** Создать новый, интуитивно понятный и функциональный экран для работы с аудио-стемами, основываясь на предоставленном макете.
- **Интеграция:** Бесшовно встроить новый экран в существующий пользовательский путь после разделения трека на стемы.
- **Обновление документации:** Актуализировать всю релевантную документацию, чтобы отразить новые изменения.

## Задачи

### 1. Удаление старого функционала (Завершено)
- [x] Удалить директории `src/components/daw`, `src/components/studio`, `src/stores/daw`.
- [x] Удалить файлы страниц `DAW.tsx`, `Studio.tsx` и их вариации.
- [x] Удалить `dawStore.ts`.
- [x] Очистить `router.tsx` и `lazyPages.tsx` от старых маршрутов.
- [x] Удалить все оставшиеся упоминания и импорты, связанные с DAW, по всему проекту.

### 2. Разработка UI "Stem Studio" (Завершено)
- [x] Создать новую страницу `StemStudio.tsx`.
- [x] Разработать компонент `StudioHeader.tsx` для навигации и заголовка.
- [x] Разработать компонент `StudioTimeline.tsx` для отображения прогресса.
- [x] Разработать компонент `StudioLyrics.tsx` для синхронизированного текста.
- [x] Разработать компонент `StemTrack.tsx` для отображения одного стема и его контролов.
- [x] Разработать компонент `StemTrackList.tsx` для списка всех стемов.
- [x] Разработать компонент `StudioControls.tsx` для глобальных контролов плеера.

### 3. Реализация логики (Завершено)
- [x] Создать `studioStore.ts` (Zustand) для управления состоянием.
- [x] Разработать хук `useStemPlayer.ts` для управления синхронным воспроизведением аудио.
- [x] Интегрировать управление состоянием в UI-компоненты.
- [x] Реализовать логику воспроизведения, паузы, соло, мьюта и изменения громкости.
- [x] Реализовать синхронизацию `currentTime` с UI.

### 4. Реализация основного функционала (Завершено)
- [x] Реализовать экспорт отдельных стемов и ZIP-архива с помощью `jszip` и `file-saver`.
- [x] Добавить заглушку для функции "Использовать как референс".

### 5. Интеграция и документация (Завершено)
- [x] Интегрировать редирект на страницу "Студии" после разделения на стемы.
- [x] Обновить `README.md` и `CHANGELOG.md`.
- [x] Создать этот план спринта.
- [x] Обновить `SPRINT_STATUS.md`.
- [x] Обновить `backlog.md`.

## Результаты
- Полностью удален устаревший код, что уменьшило сложность проекта.
- Реализован новый, современный и функциональный интерфейс для работы со стемами, соответствующий требованиям.
- Улучшен пользовательский опыт за счет плавной интеграции нового экрана.
- Вся документация приведена в соответствие с текущим состоянием проекта.
