# Sprint 0: –ê—É–¥–∏—Ç, —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞

**–ü–µ—Ä–∏–æ–¥:** TBD
**–¶–µ–ª–∏:** –£—Å—Ç—Ä–∞–Ω–∏—Ç—å –±–ª–æ–∫–∏—Ä—É—é—â–∏–µ —Ä–∏—Å–∫–∏, –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω—É—é –∏ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—É—é —Å—Ä–µ–¥—É –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏, —Å–æ–∑–¥–∞—Ç—å –∫–ª—é—á–µ–≤—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é.

---

##  epic: üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –æ–∫—Ä—É–∂–µ–Ω–∏–µ

### [P0] Fix: –ü—Ä–æ–≤–µ—Å—Ç–∏ –ø–æ–ª–Ω—ã–π –∞—É–¥–∏—Ç RLS-–ø–æ–ª–∏—Ç–∏–∫ –≤ Supabase
**Epic:** –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
**Owner:** @devops_lead
**Description:** –ü–æ–ª–∏—Ç–∏–∫–∏ Row Level Security (RLS) —è–≤–ª—è—é—Ç—Å—è –ø–æ—Å–ª–µ–¥–Ω–∏–º —Ä—É–±–µ–∂–æ–º –∑–∞—â–∏—Ç—ã –¥–∞–Ω–Ω—ã—Ö. –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—Ä–æ–≤–µ—Å—Ç–∏ –∏—Ö –ø–æ–ª–Ω—ã–π –∞—É–¥–∏—Ç, —á—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è –≤ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ "–¥—ã—Ä", –ø–æ–∑–≤–æ–ª—è—é—â–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –ø–æ–ª—É—á–∞—Ç—å –¥–æ—Å—Ç—É–ø –∫ —á—É–∂–∏–º –¥–∞–Ω–Ω—ã–º.
**Acceptance Criteria:**
- –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –≤ Supabase –ø–æ–∫—Ä—ã—Ç—ã RLS-–ø–æ–ª–∏—Ç–∏–∫–∞–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (`DENY ALL`).
- –î–ª—è –∫–∞–∂–¥–æ–π —Ç–∞–±–ª–∏—Ü—ã —Å—É—â–µ—Å—Ç–≤—É—é—Ç —è–≤–Ω—ã–µ –ø–æ–ª–∏—Ç–∏–∫–∏ `SELECT`, `INSERT`, `UPDATE`, `DELETE`, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç –¥–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –≤–ª–∞–¥–µ–ª—å—Ü–∞–º –∑–∞–ø–∏—Å–µ–π (`auth.uid() = user_id`) –∏–ª–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–æ–ª–µ–π.
- –ù–∞–ø–∏—Å–∞–Ω—ã SQL-—Ç–µ—Å—Ç—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `pgTAP`), –ø—Ä–æ–≤–µ—Ä—è—é—â–∏–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã RLS.
- –û—Ç—á–µ—Ç –æ–± –∞—É–¥–∏—Ç–µ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ –∏ –ø—Ä–µ–¥–ø—Ä–∏–Ω—è—Ç—ã–º–∏ –¥–µ–π—Å—Ç–≤–∏—è–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω –∫ –∑–∞–¥–∞—á–µ.
**Implementation Steps:**
1. –ü–æ–ª—É—á–∏—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω—É—é —Å—Ö–µ–º—É –ë–î –∏ —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö RLS-–ø–æ–ª–∏—Ç–∏–∫.
2. –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∂–¥—É—é –ø–æ–ª–∏—Ç–∏–∫—É –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π.
3. –ò—Å–ø—Ä–∞–≤–∏—Ç—å –∏–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –ø–æ–ª–∏—Ç–∏–∫–∏ —á–µ—Ä–µ–∑ –º–∏–≥—Ä–∞—Ü–∏–∏ Supabase.
4. –ù–∞–ø–∏—Å–∞—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ RLS.
5. –ó–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã.
**Tests:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ SQL-—Ç–µ—Å—Ç—ã –¥–ª—è RLS.
- –†—É—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ UI —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –¥–≤—É—Ö —Ä–∞–∑–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤.
**Risk:** –í—ã—Å–æ–∫–∏–π (–Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –º–æ–≥—É—Ç —Å–ª–æ–º–∞—Ç—å –¥–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º).
**Rollback plan:** –û—Ç–∫–∞—Ç–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é Supabase –¥–æ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –≤–µ—Ä—Å–∏–∏.
**Estimation:** 8 SP
**Status:** TODO

### [P0] Chore: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `TEST_MODE` –¥–ª—è E2E-—Ç–µ—Å—Ç–æ–≤
**Epic:** –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
**Owner:** @qa_lead
**Description:** –¢–µ–∫—É—â–∏–µ E2E-—Ç–µ—Å—Ç—ã –∑–∞–≤–∏—Å—è—Ç –æ—Ç —Ä–µ–∞–ª—å–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –∏—Ö –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω—ã–º–∏ (`flaky`) –∏ —Å–ª–æ–∂–Ω—ã–º–∏ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –≤ CI. –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–Ω–µ–¥—Ä–∏—Ç—å `TEST_MODE`, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –º–æ–∫–∞—Ç—å –ø—Ä–æ–≤–∞–π–¥–µ—Ä –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏.
**Acceptance Criteria:**
- –ü—Ä–∏ `process.env.VITE_TEST_MODE === 'true'` –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º–æ–∫-–ø—Ä–æ–≤–∞–π–¥–µ—Ä `AuthContext`.
- –ú–æ–∫-–ø—Ä–æ–≤–∞–π–¥–µ—Ä –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ "–ª–æ–≥–∏–Ω–∏—Ç—å" —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º–∏ –ø—Ä–∞–≤–∞–º–∏.
- E2E-—Ç–µ—Å—Ç—ã –ø–µ—Ä–µ–ø–∏—Å–∞–Ω—ã –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ —Ä–µ–∂–∏–º–∞ –∏ –Ω–µ —Å–æ–¥–µ—Ä–∂–∞—Ç —Ä–µ–∞–ª—å–Ω—ã—Ö –ª–æ–≥–∏–Ω–æ–≤/–ø–∞—Ä–æ–ª–µ–π.
- –í CI –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `VITE_TEST_MODE` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –≤ `true`.
**Implementation Steps:**
1. –°–æ–∑–¥–∞—Ç—å –º–æ–∫-–≤–µ—Ä—Å–∏—é `AuthContext` (`MockAuthContext.tsx`).
2. –í `App.tsx` –∏–ª–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ–º —Ñ–∞–π–ª–µ –≤–µ—Ä—Ö–Ω–µ–≥–æ —É—Ä–æ–≤–Ω—è –¥–æ–±–∞–≤–∏—Ç—å —É—Å–ª–æ–≤–Ω—É—é –ª–æ–≥–∏–∫—É –¥–ª—è –≤—ã–±–æ—Ä–∞ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ `VITE_TEST_MODE`.
3. –í `tests/e2e/fixtures/auth-fixtures.ts` —Å–æ–∑–¥–∞—Ç—å —Ö–µ–ª–ø–µ—Ä—ã –¥–ª—è "–ª–æ–≥–∏–Ω–∞" —á–µ—Ä–µ–∑ –º–æ–∫-–∫–æ–Ω—Ç–µ–∫—Å—Ç.
4. –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç—å `auth.spec.ts` –∏ –¥—Ä—É–≥–∏–µ —Ç–µ—Å—Ç—ã, —Ç—Ä–µ–±—É—é—â–∏–µ –ª–æ–≥–∏–Ω–∞.
5. –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é CI.
**Tests:**
- E2E-—Ç–µ—Å—Ç—ã, –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É—é—â–∏–µ —É—Å–ø–µ—à–Ω—ã–π –≤—Ö–æ–¥ –≤ –∑–∞—â–∏—â–µ–Ω–Ω—É—é –∑–æ–Ω—É (`/workspace`) –±–µ–∑ —Ä–µ–∞–ª—å–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏.
**Risk:** –ù–∏–∑–∫–∏–π (–∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞—Ç—Ä–∞–≥–∏–≤–∞—é—Ç —Ç–æ–ª—å–∫–æ —Ç–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º).
**Rollback plan:** –û—Ç–∫–ª—é—á–∏—Ç—å `TEST_MODE` –∏ –≤–µ—Ä–Ω—É—Ç—å —Ç–µ—Å—Ç—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞.
**Estimation:** 5 SP
**Status:** TODO

## epic: üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –ø—Ä–æ—Ü–µ—Å—Å—ã

### [P0] Docs: –î–µ—Ç–∞–ª—å–Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Å Lovable.dev
**Epic:** –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –ø—Ä–æ—Ü–µ—Å—Å—ã
**Owner:** @tech_lead
**Description:** –†–∞–±–æ—Ç–∞ –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ Lovable.dev –≤–Ω–æ—Å–∏—Ç —Å–≤–æ–∏ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –≤ –ø—Ä–æ—Ü–µ—Å—Å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏, –æ—Å–æ–±–µ–Ω–Ω–æ –≤ —á–∞—Å—Ç–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –∫–æ–¥–∞ —Å GitHub. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —á–µ—Ç–∫–æ–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ —Å–æ–∑–¥–∞–µ—Ç –≤—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –∏ –ø–æ—Ç–µ—Ä–∏ –∫–æ–¥–∞.
**Acceptance Criteria:**
- –°–æ–∑–¥–∞–Ω –¥–æ–∫—É–º–µ–Ω—Ç `docs/lovable_workflow.md`.
- –í –¥–æ–∫—É–º–µ–Ω—Ç–µ –æ–ø–∏—Å–∞–Ω—ã:
    - –¢–∏–ø —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ (—Ä—É—á–Ω–∞—è/–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è, pull/push).
    - –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π workflow –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –≤–µ—Ç–∫–∞–º–∏ (–ª–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ -> PR –≤ GitHub -> —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å Lovable).
    - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—é –≤–æ–∑–º–æ–∂–Ω—ã—Ö –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤.
    - –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è, –Ω–∞–∫–ª–∞–¥—ã–≤–∞–µ–º—ã–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º–æ–π.
- –ö–æ–º–∞–Ω–¥–∞ –æ–∑–Ω–∞–∫–æ–º–ª–µ–Ω–∞ —Å –¥–æ–∫—É–º–µ–Ω—Ç–æ–º.
**Implementation Steps:**
1. –ü—Ä–æ–≤–µ—Å—Ç–∏ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ Lovable.dev –ø–æ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Å GitHub.
2. –ü—Ä–æ–≤–µ—Å—Ç–∏ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç —Å —Ç–µ—Å—Ç–æ–≤—ã–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–º –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ workflow.
3. –ù–∞–ø–∏—Å–∞—Ç—å –ø–æ—à–∞–≥–æ–≤–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ.
4. –ü—Ä–æ–≤–µ—Å—Ç–∏ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—é –¥–ª—è –∫–æ–º–∞–Ω–¥—ã.
**Tests:**
- –†—É—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞: —Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –Ω–∞–ø–∏—Å–∞–Ω–Ω–æ–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ —É—Å–ø–µ—à–Ω–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –±–µ–∑ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤.
**Risk:** –ù–∏–∑–∫–∏–π (–∑–∞–¥–∞—á–∞ —Å–≤—è–∑–∞–Ω–∞ —Ç–æ–ª—å–∫–æ —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π).
**Rollback plan:** N/A.
**Estimation:** 3 SP
**Status:** TODO
