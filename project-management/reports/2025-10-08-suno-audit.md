# üìù –û—Ç—á—ë—Ç: Suno API Integration Audit (08.10.2025)

**–í–µ—Ä—Å–∏—è:** 2.6.0  
**–ö–æ–º–∞–Ω–¥–∞:** Platform Reliability  
**–°–≤—è–∑–∞–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏:** INTEG-005, TEST-001 (–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ç–µ—Å—Ç–æ–≤)

---

## üéØ –¶–µ–ª–∏ –∞—É–¥–∏—Ç–∞
- –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å `sunoapi.org` –∏ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–º–∏ Suno endpoints.
- –£—Å—Ç—Ä–∞–Ω–∏—Ç—å —Ä–∏—Å–∫–∏ —Ä–∞—Å—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ API, –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –∏ –ø—Ä–æ–µ–∫—Ç–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏.
- –û–±–µ—Å–ø–µ—á–∏—Ç—å –Ω–∞–±–ª—é–¥–∞–µ–º–æ—Å—Ç—å: —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø–æ–ª–Ω—ã–µ —Å–Ω–∏–º–∫–∏ –æ—Ç–≤–µ—Ç–æ–≤ Suno –≤ –ë–î.

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è
- –†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –º–æ–¥—É–ª—å `supabase/functions/_shared/suno.ts` —Å –µ–¥–∏–Ω—ã–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º—ã–º —Å–ø–∏—Å–∫–æ–º endpoints (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `sunoapi.org`).
- –û–±–Ω–æ–≤–ª–µ–Ω—ã edge-—Ñ—É–Ω–∫—Ü–∏–∏ `generate-suno` –∏ `separate-stems`:
  - –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ (`suno_last_poll_*`, `suno_last_stem_*`, `suno_poll_snapshot`).
  - –õ–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π retry –ø—Ä–∏ 429/5xx.
- –û–±–Ω–æ–≤–ª–µ–Ω—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã `generate-suno.test.ts` (—É—á—ë—Ç –Ω–æ–≤—ã—Ö endpoints –∏ —Å–æ–æ–±—â–µ–Ω–∏–π).
- –ü–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω –ø–æ–¥—Ä–æ–±–Ω—ã–π –æ—Ç—á—ë—Ç `docs/integrations/SUNO_API_AUDIT.md` –∏ –∞–∫—Ç—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω `docs/api/API.md`.
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã project-management –¥–æ–∫—É–º–µ–Ω—Ç—ã (Sprint 23, CHANGELOG, –∏–Ω–¥–µ–∫—Å—ã).

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã
| –ú–µ—Ç—Ä–∏–∫–∞ | –î–æ | –ü–æ—Å–ª–µ |
| ------- | --- | ----- |
| –ü–æ–∫—Ä—ã—Ç–∏–µ Suno endpoints | –†–∞–∑—Ä–æ–∑–Ω–µ–Ω–Ω—ã–µ fetch –≤ —Ñ—É–Ω–∫—Ü–∏—è—Ö | –ï–¥–∏–Ω—ã–π –∫–ª–∏–µ–Ω—Ç + —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è |
| –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ Suno –≤ –ë–î | `suno_task_id`, —á–∞—Å—Ç–∏—á–Ω—ã–π `suno_data` | –ü–æ–ª–Ω—ã–µ —Å–Ω–∏–º–∫–∏ + —Ç–æ—á–∫–∏ –≤—ã–∑–æ–≤–∞ |
| –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ | generic `Error` | `SunoApiError` —Å –¥–µ—Ç–∞–ª—è–º–∏, –ª–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è |
| –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è | –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∞—É–¥–∏—Ç | –ù–æ–≤—ã–π —Ä–∞–∑–¥–µ–ª `docs/integrations/` + –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π API.md |

## üöß –†–∏—Å–∫–∏ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
- –î–æ–±–∞–≤–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã –¥–ª—è `requestStemSeparation` (mock Suno API).
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ –ø–æ–ª—è–º `suno_last_poll_code` –∏ `suno_last_stem_endpoint`.
- –•—Ä–∞–Ω–∏—Ç—å Suno API –∫–ª—é—á–∏ –≤ —Å–µ–∫—Ä–µ—Ç-—Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Å —Ä–µ–≥—É–ª—è—Ä–Ω–æ–π —Ä–æ—Ç–∞—Ü–∏–µ–π.

## üìÖ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏
1. –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—ã–π Suno –∫–ª–∏–µ–Ω—Ç –≤ –æ—Å—Ç–∞–ª—å–Ω—ã–µ edge-—Ñ—É–Ω–∫—Ü–∏–∏ (–ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏).
2. –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å E2E —Å—Ü–µ–Ω–∞—Ä–∏–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π `suno_poll_snapshot` (–∑–∞–¥–∞—á–∞ TEST-001).
3. –û–±–Ω–æ–≤–∏—Ç—å onboarding —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å—Å—ã–ª–∫–æ–π –Ω–∞ `docs/integrations/SUNO_API_AUDIT.md`.

---

**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:** gpt-5-codex  
**–î–∞—Ç–∞:** 8 –æ–∫—Ç—è–±—Ä—è 2025
