# –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –ü–†–û–ë–õ–ï–ú–ê - React Error #301

**–î–∞—Ç–∞:** 2025-11-05
**–°—Ç–∞—Ç—É—Å:** üö® –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –û–®–ò–ë–ö–ê - –ò–∑–º–µ–Ω–µ–Ω–∏—è –æ—Ç–∫–∞—á–µ–Ω—ã

---

## –ü—Ä–æ–±–ª–µ–º–∞

–ü–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤ –≤ commit `92d8272` –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–ª–æ–º–∞–ª–æ—Å—å —Å –æ—à–∏–±–∫–æ–π:

```
Minified React error #301
```

**React Error #301** –æ–±—ã—á–Ω–æ –æ–∑–Ω–∞—á–∞–µ—Ç: –ø—Ä–æ–±–ª–µ–º–∞ —Å –∏–º–ø–æ—Ä—Ç–∞–º–∏, –º–æ–¥—É–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω, –∏–ª–∏ —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏.

---

## –ß—Ç–æ –±—ã–ª–æ —É–¥–∞–ª–µ–Ω–æ

```
- src/hooks/tracks/useTracksQuery.ts
- src/hooks/tracks/useTracksMutations.ts
- src/repositories/ (entire directory)
```

---

## –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º—ã

### –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–∫–∞–∑–∞–ª–∞:
```bash
# –ü–æ–∏—Å–∫ –∏–º–ø–æ—Ä—Ç–æ–≤ useTracksQuery
grep -r "import.*useTracksQuery" src/
# –†–µ–∑—É–ª—å—Ç–∞—Ç: –ù–µ—Ç —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π ‚úÖ

# –ü–æ–∏—Å–∫ –∏–º–ø–æ—Ä—Ç–æ–≤ useTracksMutations
grep -r "import.*useTracksMutations" src/
# –†–µ–∑—É–ª—å—Ç–∞—Ç: –ù–µ—Ç —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π ‚úÖ

# –ü–æ–∏—Å–∫ –∏–º–ø–æ—Ä—Ç–æ–≤ repositories
grep -r "from.*@/repositories" src/
# –†–µ–∑—É–ª—å—Ç–∞—Ç: –¢–æ–ª—å–∫–æ –≤ useTracksQuery.ts –∏ useTracksMutations.ts
```

### –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã –æ—à–∏–±–∫–∏:

1. **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∏–º–ø–æ—Ä—Ç—ã** - –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω—ã —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–º –∞–Ω–∞–ª–∏–∑–æ–º
2. **Webpack/Vite chunk splitting** - –º–æ–¥—É–ª–∏ –±—ã–ª–∏ –≤ shared chunk
3. **Type-only imports** - TypeScript –∏–º–ø–æ—Ä—Ç—ã –º–æ–≥–ª–∏ –±—ã—Ç—å –ø—Ä–æ–ø—É—â–µ–Ω—ã
4. **Barrel exports** - —Ä–µ—ç–∫—Å–ø–æ—Ä—Ç—ã —á–µ—Ä–µ–∑ index.ts
5. **Production build cache** - –≤–æ–∑–º–æ–∂–Ω–æ –∫–µ—à –Ω–µ –æ–±–Ω–æ–≤–∏–ª—Å—è

---

## –î–µ–π—Å—Ç–≤–∏—è

### ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ:
1. –û—Ç–∫–∞—á–µ–Ω commit —Å —É–¥–∞–ª–µ–Ω–∏–µ–º —Ñ–∞–π–ª–æ–≤ (git revert)
2. Force push –≤ branch –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —Ä–∞–±–æ—á–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
3. –°–æ–∑–¥–∞–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–±–ª–µ–º—ã

### ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç—Å—è:
1. –î–æ–∂–¥–∞—Ç—å—Å—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è, —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–Ω–æ–≤–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
2. –ü—Ä–æ–≤–µ—Å—Ç–∏ –±–æ–ª–µ–µ –≥–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
3. –ù–∞–π—Ç–∏ —Å–∫—Ä—ã—Ç—ã–µ –∏–º–ø–æ—Ä—Ç—ã (–µ—Å–ª–∏ –æ–Ω–∏ –µ—Å—Ç—å)

---

## –ù–æ–≤—ã–π –ø–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π

### –§–∞–∑–∞ 1: –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ —Ç–∏–ø—ã –∏–º–ø–æ—Ä—Ç–æ–≤ (–≤–∫–ª—é—á–∞—è type-only)
grep -r "useTracksQuery\|useTracksMutations\|repositories" src/

# 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å barrel exports (index.ts —Ñ–∞–π–ª—ã)
find src -name "index.ts" -exec grep -l "tracks" {} \;

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∏–º–ø–æ—Ä—Ç—ã
grep -r "import(" src/

# 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å vite.config.ts –¥–ª—è chunk splitting
cat vite.config.ts | grep -A 10 "manualChunks"

# 5. –ü–æ—Å—Ç—Ä–æ–∏—Ç—å –≥—Ä–∞—Ñ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
npx madge --circular --extensions ts,tsx src/
```

### –§–∞–∑–∞ 2: –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ

–¢–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —á—Ç–æ —Ñ–∞–π–ª—ã –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è:

1. –°–æ–∑–¥–∞—Ç—å feature flag –¥–ª—è –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–≥–æ –æ—Ç–∫–ª—é—á–µ–Ω–∏—è
2. –£–¥–∞–ª–∏—Ç—å –ø–æ –æ–¥–Ω–æ–º—É —Ñ–∞–π–ª—É —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å production build –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è
4. –û—Ç–∫–∞—Ç–∏—Ç—å –ø—Ä–∏ –ø–µ—Ä–≤—ã—Ö –ø—Ä–∏–∑–Ω–∞–∫–∞—Ö –ø—Ä–æ–±–ª–µ–º

---

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### ‚ùå –ù–ï –î–ï–õ–ê–¢–¨:
- –£–¥–∞–ª—è—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ñ–∞–π–ª–æ–≤ —Å—Ä–∞–∑—É –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏
- –ü–æ–ª–∞–≥–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ grep –¥–ª—è –ø–æ–∏—Å–∫–∞ –∏–º–ø–æ—Ä—Ç–æ–≤
- Force push –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### ‚úÖ –î–ï–õ–ê–¢–¨:
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∞–Ω–∞–ª–∏–∑–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (madge, dependency-cruiser)
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å production build –ª–æ–∫–∞–ª—å–Ω–æ –ø–µ—Ä–µ–¥ push
- –£–¥–∞–ª—è—Ç—å —Ñ–∞–π–ª—ã –ø–æ –æ–¥–Ω–æ–º—É —Å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å feature flags –¥–ª—è –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–≥–æ –æ—Ç–∫–ª—é—á–µ–Ω–∏—è

---

## –°—Ç–∞—Ç—É—Å

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:** –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ (–æ–∂–∏–¥–∞–µ—Ç—Å—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ)
**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –ñ–¥—ë–º –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
**–ë–ª–æ–∫–µ—Ä:** –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–æ–Ω—è—Ç—å –∏—Å—Ç–∏–Ω–Ω—É—é –ø—Ä–∏—á–∏–Ω—É –æ—à–∏–±–∫–∏ –ø–µ—Ä–µ–¥ –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –ø–æ–ø—ã—Ç–∫–æ–π

---

## Lessons Learned

1. **–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–µ–Ω** - grep –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
2. **Production build –º–æ–∂–µ—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è –æ—Ç dev** - –≤–∞–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ–±–∞
3. **–£–¥–∞–ª–µ–Ω–∏–µ –∫–æ–¥–∞ —Ç—Ä–µ–±—É–µ—Ç –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç–∏** - –ª—É—á—à–µ deprecate –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ
4. **–ù—É–∂–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã** - E2E —Ç–µ—Å—Ç—ã –ø–æ–π–º–∞–ª–∏ –±—ã —ç—Ç—É –ø—Ä–æ–±–ª–µ–º—É
