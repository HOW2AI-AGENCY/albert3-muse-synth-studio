# üé§ –°–∏—Å—Ç–µ–º–∞ –ª–∏—Ä–∏–∫–∏ Albert3 Muse Synth Studio

**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞**: 2.0
**–î–∞—Ç–∞**: 2025-11-12
**–°—Ç–∞—Ç—É—Å**: –ê–∫—Ç–∏–≤–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

---

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–û–±–∑–æ—Ä —Å–∏—Å—Ç–µ–º—ã](#–æ–±–∑–æ—Ä-—Å–∏—Å—Ç–µ–º—ã)
2. [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
3. [–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ª–∏—Ä–∏–∫–∞ (Timestamped Lyrics)](#—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è-–ª–∏—Ä–∏–∫–∞)
4. [–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ª–∏—Ä–∏–∫–∞ —Å —Ç–µ–≥–∞–º–∏](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è-–ª–∏—Ä–∏–∫–∞-—Å-—Ç–µ–≥–∞–º–∏)
5. [–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã](#–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã)
6. [API –∏ —Å–µ—Ä–≤–∏—Å—ã](#api-–∏-—Å–µ—Ä–≤–∏—Å—ã)
7. [–î–∏–∞–≥—Ä–∞–º–º—ã](#–¥–∏–∞–≥—Ä–∞–º–º—ã)
8. [–î–æ—Ä–∞–±–æ—Ç–∫–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞](#–¥–æ—Ä–∞–±–æ—Ç–∫–∞-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞)
9. [Roadmap](#roadmap)

---

## üìñ –û–±–∑–æ—Ä —Å–∏—Å—Ç–µ–º—ã

Albert3 –≤–∫–ª—é—á–∞–µ—Ç —Ç—Ä–∏ —É—Ä–æ–≤–Ω—è —Ä–∞–±–æ—Ç—ã —Å –ª–∏—Ä–∏–∫–æ–π:

### 1Ô∏è‚É£ **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ª–∏—Ä–∏–∫–∞** (Timestamped Lyrics)
- –ö–∞–∂–¥–æ–µ —Å–ª–æ–≤–æ –∏–º–µ–µ—Ç –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —à—Ç–∞–º–ø—ã (startS, endS)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å –∞—É–¥–∏–æ
- –í–∏–∑—É–∞–ª—å–Ω–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –∫–∞–∂–¥–æ–≥–æ —Å–ª–æ–≤–∞
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ –∫ –∞–∫—Ç–∏–≤–Ω–æ–π —Å—Ç—Ä–æ–∫–µ

### 2Ô∏è‚É£ **–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ª–∏—Ä–∏–∫–∞ —Å —Ç–µ–≥–∞–º–∏**
- –°–µ–∫—Ü–∏–∏ (Intro, Verse, Chorus, Bridge, Outro)
- –¢–µ–≥–∏ –¥–ª—è –≤–æ–∫–∞–ª–∞, –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤, —ç–º–æ—Ü–∏–π, FX
- Lint-–ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
- –≠–∫—Å–ø–æ—Ä—Ç –≤ Suno/Mureka —Ñ–æ—Ä–º–∞—Ç

### 3Ô∏è‚É£ **–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –ª–∏—Ä–∏–∫–∏**
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–æ–≤
- –ü–æ–∏—Å–∫ –ø–æ —Ç–µ–≥–∞–º, –∂–∞–Ω—Ä–∞–º, –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—é
- –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –ª–∏—Ä–∏–∫–∏
- AI-–≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–æ–≤

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã

```
src/
‚îú‚îÄ‚îÄ components/lyrics/
‚îÇ   ‚îú‚îÄ‚îÄ TimestampedLyricsDisplay.tsx    # –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ LyricsWorkspace.tsx              # –†–µ–¥–∞–∫—Ç–æ—Ä –ª–∏—Ä–∏–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ LyricsEditorAdvanced.tsx         # –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ MurekaLyricsVariantDialog.tsx    # –í—ã–±–æ—Ä –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ Mureka
‚îÇ   ‚îú‚îÄ‚îÄ LyricsCard.tsx                   # –ö–∞—Ä—Ç–æ—á–∫–∞ –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ
‚îÇ   ‚îú‚îÄ‚îÄ LyricsGeneratorDialog.tsx        # AI –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä
‚îÇ   ‚îî‚îÄ‚îÄ workspace/
‚îÇ       ‚îú‚îÄ‚îÄ LyricsSection.tsx            # –°–µ–∫—Ü–∏—è (Verse/Chorus)
‚îÇ       ‚îú‚îÄ‚îÄ LyricsToolbar.tsx            # –ü–∞–Ω–µ–ª—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
‚îÇ       ‚îú‚îÄ‚îÄ GlobalTagsBar.tsx            # –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Ç–µ–≥–∏
‚îÇ       ‚îî‚îÄ‚îÄ LintIssuesPanel.tsx          # –ü–∞–Ω–µ–ª—å –æ—à–∏–±–æ–∫
‚îú‚îÄ‚îÄ hooks/
‚îÇ   ‚îú‚îÄ‚îÄ useTimestampedLyrics.ts          # –•—É–∫ –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —à—Ç–∞–º–ø–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ useSaveLyrics.ts                 # –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –±–∞–∑—É
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îú‚îÄ‚îÄ lyrics.service.ts                # API —Å–µ—Ä–≤–∏—Å
‚îÇ   ‚îî‚îÄ‚îÄ lyrics/
‚îÇ       ‚îú‚îÄ‚îÄ lyricsCache.ts               # –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îÇ       ‚îî‚îÄ‚îÄ lyricsService.ts             # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îú‚îÄ‚îÄ types/
‚îÇ   ‚îú‚îÄ‚îÄ lyrics.ts                        # TypeScript —Ç–∏–ø—ã
‚îÇ   ‚îî‚îÄ‚îÄ lyricsPresets.ts                 # –ü—Ä–µ—Å–µ—Ç—ã
‚îî‚îÄ‚îÄ utils/
    ‚îî‚îÄ‚îÄ lyricsParser.ts                  # –ü–∞—Ä—Å–∏–Ω–≥ –∏ —ç–∫—Å–ø–æ—Ä—Ç
```

---

## üéµ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ª–∏—Ä–∏–∫–∞

### –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö

```typescript
interface TimestampedWord {
  word: string;       // "Hello" –∏–ª–∏ "\n"
  success: boolean;   // –£—Å–ø–µ—à–Ω–æ —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–æ
  startS: number;     // –ù–∞—á–∞–ª–æ (—Å–µ–∫—É–Ω–¥—ã)
  endS: number;       // –ö–æ–Ω–µ—Ü (—Å–µ–∫—É–Ω–¥—ã)
  palign: number;     // –¢–æ—á–Ω–æ—Å—Ç—å –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏—è
}
```

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø–æ—Ç–æ–∫–∞ –¥–∞–Ω–Ω—ã—Ö

```
Track (Suno/Mureka)
      ‚Üì
  task_id + audio_id
      ‚Üì
LyricsService.getTimestampedLyrics()
      ‚Üì
   ‚úì Check IndexedDB Cache
      ‚Üì (miss)
   ‚úì Call Edge Function: get-timestamped-lyrics
      ‚Üì
   ‚úì Edge Function ‚Üí Suno API
      ‚Üì
   ‚úì Save to IndexedDB Cache
      ‚Üì
useTimestampedLyrics hook (React Query)
      ‚Üì
TimestampedLyricsDisplay component
      ‚Üì
  –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π
```

### –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

#### 1. **–ü–æ—Å–ª–æ–≤–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ**
```tsx
<TimestampedLyricsDisplay
  lyricsData={timestampedWords}
  currentTime={audioPlayer.currentTime}
/>
```

- –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ —Å–ª–æ–≤ –≤ —Å—Ç—Ä–æ–∫–∏ –ø–æ —Å–∏–º–≤–æ–ª—É `\n`
- Highlight –∞–∫—Ç–∏–≤–Ω–æ–π —Å—Ç—Ä–æ–∫–∏
- –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–ª–æ–≤–∞ (–≥—Ä–∞–¥–∏–µ–Ω—Ç)

#### 2. **–ê–≤—Ç–æ–ø—Ä–æ–∫—Ä—É—Ç–∫–∞**
```typescript
useEffect(() => {
  if (activeLineIndex !== -1 && scrollRef.current) {
    const activeElement = scrollRef.current.querySelector(
      `[data-line-index="${activeLineIndex}"]`
    );
    activeElement?.scrollIntoView({
      behavior: 'smooth',
      block: 'center',
    });
  }
}, [activeLineIndex]);
```

#### 3. **–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ (IndexedDB)**
```typescript
// src/services/lyrics/lyricsCache.ts
class LyricsCache {
  async get(taskId: string, audioId: string): Promise<TimestampedLyricsResponse | null>
  async set(taskId: string, audioId: string, data: TimestampedLyricsResponse): Promise<void>
  async clear(): Promise<void>
}
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –û—Ñ–ª–∞–π–Ω-–¥–æ—Å—Ç—É–ø
- –ú–≥–Ω–æ–≤–µ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–∏
- –≠–∫–æ–Ω–æ–º–∏—è —Ç—Ä–∞—Ñ–∏–∫–∞

#### 4. **Prefetching**
```typescript
// –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ –ª–∏—Ä–∏–∫–∏ —Å–ª–µ–¥—É—é—â–∏—Ö 3 —Ç—Ä–µ–∫–æ–≤ –≤ –æ—á–µ—Ä–µ–¥–∏
await LyricsService.prefetchLyrics(upcomingTracks);
```

---

## üè∑Ô∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ª–∏—Ä–∏–∫–∞ —Å —Ç–µ–≥–∞–º–∏

### –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ç–µ–≥–æ–≤

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –ü—Ä–∏–º–µ—Ä—ã | –¶–≤–µ—Ç | –ò–∫–æ–Ω–∫–∞ |
|-----------|---------|------|--------|
| `section` | `[Intro]`, `[Verse 1]`, `[Chorus]` | –°–∏–Ω–∏–π | `layout` |
| `vocal` | `[Lead Vocal]`, `[Gritty]`, `[Autotune]` | –§–∏–æ–ª–µ—Ç–æ–≤—ã–π | `mic` |
| `emotion` | `[Melancholic]`, `[Euphoric]`, `[Angry]` | –†–æ–∑–æ–≤—ã–π | `heart` |
| `instrument` | `[Piano]`, `[808 Sub]`, `[Analog Pad]` | –ó–µ–ª–µ–Ω—ã–π | `music` |
| `arrangement` | `[Sparse]`, `[Building Intensity]` | –û—Ä–∞–Ω–∂–µ–≤—ã–π | `layers` |
| `fx` | `[Reverb Heavy]`, `[Delay]`, `[Distortion]` | –ì–æ–ª—É–±–æ–π | `wand` |
| `tempo` | `[Tempo: 120 BPM]` | –ñ–µ–ª—Ç—ã–π | `gauge` |
| `key` | `[Key: C minor]` | –§–∏–æ–ª–µ—Ç–æ–≤—ã–π | `music-2` |
| `language` | `[Language: English]` | –°–µ—Ä—ã–π | `globe` |
| `content` | `[Clean Lyrics]`, `[Instrumental Only]` | –°–µ—Ä—ã–π | `shield` |
| `meta` | `[Mix: punchy]`, `[Master: loud]` | –°–µ—Ä—ã–π | `settings` |

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞

```typescript
interface SongDocument {
  id: string;
  globalTags: Tag[];      // –¢–µ–≥–∏ –≤–µ—Ä—Ö–Ω–µ–≥–æ —É—Ä–æ–≤–Ω—è (Key, Tempo, Genre)
  sections: Section[];    // –°–µ–∫—Ü–∏–∏ –ª–∏—Ä–∏–∫–∏
  providerHints?: {};     // –ü–æ–¥—Å–∫–∞–∑–∫–∏ –¥–ª—è AI
  version: number;
  createdAt: string;
  updatedAt: string;
}

interface Section {
  id: string;
  title: string;          // "Verse 1", "Chorus"
  tags: Tag[];            // –¢–µ–≥–∏ —Å–µ–∫—Ü–∏–∏ (–∫—Ä–æ–º–µ section tag)
  lines: string[];        // –°—Ç—Ä–æ–∫–∏ –ª–∏—Ä–∏–∫–∏
  order: number;
  isCollapsed?: boolean;
}
```

### –ü–∞—Ä—Å–∏–Ω–≥ –∏ —ç–∫—Å–ø–æ—Ä—Ç

```typescript
// –ü–∞—Ä—Å–∏–Ω–≥ –∏–∑ —Ç–µ–∫—Å—Ç–∞
import { parseLyrics, extractTags } from '@/utils/lyricsParser';

const sections = parseLyrics(`
[Tempo: 120 BPM] [Key: C minor]

[Intro] [Piano] [Melancholic]
Soft piano intro...

[Verse 1] [Lead Vocal] [Building Intensity]
First verse lyrics...

[Chorus] [Euphoric] [808 Sub]
Chorus lyrics...
`);

// –≠–∫—Å–ø–æ—Ä—Ç –æ–±—Ä–∞—Ç–Ω–æ –≤ Suno —Ñ–æ—Ä–º–∞—Ç
const exportedText = exportToSunoFormat(document);
```

### Lint-–ø—Ä–æ–≤–µ—Ä–∫–∞

```typescript
interface LintIssue {
  id: string;
  severity: 'error' | 'warning' | 'info';
  message: string;
  sectionId?: string;
  tagId?: string;
  suggestion?: string;
}

const issues = lintDocument(document);
// [
//   { severity: 'warning', message: 'Too many instruments (6). Consider 2-3.', ... },
//   { severity: 'error', message: 'Section "Verse 2" is empty', ... },
//   { severity: 'info', message: 'Consider adding a Chorus section', ... }
// ]
```

---

## üß© –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### 1. TimestampedLyricsDisplay

**–ü—É—Ç—å:** `src/components/lyrics/TimestampedLyricsDisplay.tsx`

**–û–ø–∏—Å–∞–Ω–∏–µ:** –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é –ª–∏—Ä–∏–∫—É —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ —à—Ç–∞–º–ø–∞–º–∏.

**Props:**
```typescript
interface TimestampedLyricsDisplayProps {
  lyricsData: TimestampedWord[];
  currentTime: number;
  className?: string;
}
```

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ —Å–ª–æ–≤ –≤ —Å—Ç—Ä–æ–∫–∏
- Highlight –∞–∫—Ç–∏–≤–Ω–æ–π —Å—Ç—Ä–æ–∫–∏
- –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–ª–æ–≤–∞
- –ê–≤—Ç–æ–ø—Ä–æ–∫—Ä—É—Ç–∫–∞ –∫ —Ç–µ–∫—É—â–µ–π —Å—Ç—Ä–æ–∫–µ
- –ê–Ω–∏–º–∞—Ü–∏—è —Å Framer Motion

**–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
- `useMemo` –¥–ª—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏ —Å—Ç—Ä–æ–∫
- `useMemo` –¥–ª—è activeLineIndex
- Debounced scroll

---

### 2. LyricsWorkspace

**–ü—É—Ç—å:** `src/components/lyrics/workspace/LyricsWorkspace.tsx`

**–û–ø–∏—Å–∞–Ω–∏–µ:** –†–µ–¥–∞–∫—Ç–æ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –ª–∏—Ä–∏–∫–∏ —Å —Ç–µ–≥–∞–º–∏.

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- Drag & Drop —Å–µ–∫—Ü–∏–π
- –ê–≤—Ç–æ–∫–æ–º–ø–ª–∏—Ç —Ç–µ–≥–æ–≤
- Lint-–ø—Ä–æ–≤–µ—Ä–∫–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –ü—Ä–µ—Å–µ—Ç—ã —Å—Ç—Ä—É–∫—Ç—É—Ä (Pop, Rock, Hip-Hop)
- –≠–∫—Å–ø–æ—Ä—Ç –≤ Suno/Mureka

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- `LyricsToolbar` - –ü–∞–Ω–µ–ª—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
- `GlobalTagsBar` - –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Ç–µ–≥–∏ (Key, Tempo, Genre)
- `LyricsSection` - –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º–∞—è —Å–µ–∫—Ü–∏—è
- `LintIssuesPanel` - –ü–∞–Ω–µ–ª—å –æ—à–∏–±–æ–∫
- `RawTextEditor` - –†–µ–∂–∏–º —Å—ã—Ä–æ–≥–æ —Ç–µ–∫—Å—Ç–∞

---

### 3. MurekaLyricsVariantDialog

**–ü—É—Ç—å:** `src/components/lyrics/MurekaLyricsVariantDialog.tsx`

**–û–ø–∏—Å–∞–Ω–∏–µ:** –í—ã–±–æ—Ä –≤–∞—Ä–∏–∞–Ω—Ç–∞ –ª–∏—Ä–∏–∫–∏ –∏–∑ Mureka AI (4 –≤–∞—Ä–∏–∞–Ω—Ç–∞).

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ 4 –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤
- –í—ã–±–æ—Ä –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–æ–≥–æ
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ metadata
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

**Realtime –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:**
```typescript
useMurekaLyricsSubscription({
  trackId: params.trackId,
  enabled: !!params.trackId,
  onLyricsStage: ({ trackId, jobId }) => {
    setMurekaLyricsDialog({ open: true, trackId, jobId });
  },
});
```

---

### 4. LyricsGeneratorDialog

**–ü—É—Ç—å:** `src/components/lyrics/LyricsGeneratorDialog.tsx`

**–û–ø–∏—Å–∞–Ω–∏–µ:** AI –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ª–∏—Ä–∏–∫–∏ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- –¢–µ–º–∞ / Mood
- –ñ–∞–Ω—Ä
- –î–ª–∏–Ω–∞ (–∫–æ—Ä–æ—Ç–∫–∞—è/—Å—Ä–µ–¥–Ω—è—è/–¥–ª–∏–Ω–Ω–∞—è)
- –Ø–∑—ã–∫
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ (Auto/Custom)

---

## üõ†Ô∏è API –∏ —Å–µ—Ä–≤–∏—Å—ã

### LyricsService

**–ü—É—Ç—å:** `src/services/lyrics.service.ts`

**–ú–µ—Ç–æ–¥—ã:**

#### `getTimestampedLyrics({ taskId, audioId })`
–ü–æ–ª—É—á–∏—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é –ª–∏—Ä–∏–∫—É –∏–∑ Suno API.

**–ü–æ—Ç–æ–∫:**
1. –ü—Ä–æ–≤–µ—Ä–∫–∞ IndexedDB cache
2. –ï—Å–ª–∏ miss ‚Üí –≤—ã–∑–æ–≤ Edge Function
3. Edge Function ‚Üí Suno API
4. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ cache
5. –í–æ–∑–≤—Ä–∞—Ç –¥–∞–Ω–Ω—ã—Ö

**–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ:**
- `staleTime: Infinity` (–Ω–µ —É—Å—Ç–∞—Ä–µ–≤–∞–µ—Ç)
- `gcTime: 1 hour` (—É–¥–∞–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ —á–∞—Å)

#### `prefetchLyrics(tracks[])`
–ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ –ª–∏—Ä–∏–∫–∏ —Å–ª–µ–¥—É—é—â–∏—Ö —Ç—Ä–µ–∫–æ–≤.

**–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:** –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —Ç—Ä–µ–∫–æ–≤ –≤ –æ—á–µ—Ä–µ–¥—å –ø–ª–µ–µ—Ä–∞.

#### `clearCache()`
–û—á–∏—Å—Ç–∫–∞ IndexedDB –∫–µ—à–∞.

---

### Edge Function: get-timestamped-lyrics

**–ü—É—Ç—å:** `supabase/functions/get-timestamped-lyrics/index.ts`

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü—Ä–æ–∫—Å–∏ –¥–ª—è Suno Lyrics API —Å –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º.

**–≠–Ω–¥–ø–æ–∏–Ω—Ç:**
```
POST /functions/v1/get-timestamped-lyrics
Body: { taskId: string, audioId: string }
```

**–û—Ç–≤–µ—Ç:**
```typescript
{
  success: boolean;
  data: {
    alignedWords: TimestampedWord[];
    waveformData: number[];
    hootCer: number;
    isStreamed: boolean;
  };
  cached: boolean;
  error?: string;
}
```

**–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:**
- Server-side –∫–µ—à (Redis –∏–ª–∏ Postgres)
- Retry —Å exponential backoff
- Circuit breaker –¥–ª—è Suno API

---

## üìä –î–∏–∞–≥—Ä–∞–º–º—ã

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã –ª–∏—Ä–∏–∫–∏

```mermaid
graph TD
    subgraph Frontend
        A[Track Player] -->|taskId + audioId| B[useTimestampedLyrics]
        B -->|React Query| C[LyricsService]
        C -->|Check Cache| D[IndexedDB Cache]
        D -->|Cache Hit| E[TimestampedLyricsDisplay]
        D -->|Cache Miss| F[Edge Function]
    end

    subgraph Backend
        F -->|HTTP| G[get-timestamped-lyrics]
        G -->|API Call| H[Suno Lyrics API]
        H -->|Response| G
        G -->|Save Cache| D
        G -->|Return| C
    end

    subgraph UI Components
        E -->|Word-by-word| I[Active Line Highlight]
        E -->|Auto-scroll| J[Smooth Scrolling]
        E -->|Progress| K[Gradient Fill]
    end

    style A fill:#a8e6cf
    style E fill:#ffd3b6
    style H fill:#ffaaa5
```

---

### –ü–æ—Ç–æ–∫ —Å–æ–∑–¥–∞–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –ª–∏—Ä–∏–∫–∏

```mermaid
sequenceDiagram
    participant User
    participant LyricsWorkspace
    participant Parser
    participant Validator
    participant Exporter
    participant Suno

    User->>LyricsWorkspace: –í–≤–æ–¥–∏—Ç –ª–∏—Ä–∏–∫—É —Å —Ç–µ–≥–∞–º–∏
    LyricsWorkspace->>Parser: parseLyrics(text)
    Parser-->>LyricsWorkspace: sections[]

    LyricsWorkspace->>Validator: lintDocument(doc)
    Validator-->>LyricsWorkspace: issues[]

    alt –ï—Å—Ç—å –æ—à–∏–±–∫–∏
        LyricsWorkspace->>User: –ü–æ–∫–∞–∑–∞—Ç—å LintIssuesPanel
        User->>LyricsWorkspace: –ò—Å–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫–∏
    end

    User->>LyricsWorkspace: –ù–∞–∂–∞—Ç—å "–≠–∫—Å–ø–æ—Ä—Ç"
    LyricsWorkspace->>Exporter: exportToSunoFormat(doc)
    Exporter-->>LyricsWorkspace: formatted text

    LyricsWorkspace->>Suno: generate({ lyrics: text })
    Suno-->>User: –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç—Ä–µ–∫
```

---

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```mermaid
graph LR
    subgraph Lyrics Display
        A[TimestampedLyricsDisplay] --> B[useTimestampedLyrics]
        B --> C[LyricsService]
        C --> D[lyricsCache]
    end

    subgraph Lyrics Editor
        E[LyricsWorkspace] --> F[GlobalTagsBar]
        E --> G[LyricsSection]
        E --> H[LyricsToolbar]
        E --> I[LintIssuesPanel]
        G --> J[TagAutocomplete]
    end

    subgraph Lyrics Library
        K[LyricsLibrary] --> L[LyricsCard]
        K --> M[LyricsVirtualGrid]
        L --> N[LyricsPreviewPanel]
    end

    subgraph AI Generation
        O[LyricsGeneratorDialog] --> P[Edge Function: generate-lyrics-ai]
        P --> Q[OpenAI GPT-4]
    end

    style A fill:#a8e6cf
    style E fill:#ffd3b6
    style K fill:#ffaaa5
    style O fill:#dcedc1
```

---

### –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

```mermaid
flowchart TD
    A[User –∏–≥—Ä–∞–µ—Ç —Ç—Ä–µ–∫] --> B{IndexedDB Cache?}
    B -->|Hit| C[–ú–≥–Ω–æ–≤–µ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞<br/>~5ms]
    B -->|Miss| D[Edge Function Call]
    D --> E{Server Cache?}
    E -->|Hit| F[–ë—ã—Å—Ç—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞<br/>~50ms]
    E -->|Miss| G[Suno API Call<br/>~500ms]
    G --> H[Save to Server Cache]
    H --> I[Return to Frontend]
    I --> J[Save to IndexedDB]
    J --> C

    style C fill:#a8e6cf
    style F fill:#ffd3b6
    style G fill:#ffaaa5
```

---

## üöÄ –î–æ—Ä–∞–±–æ—Ç–∫–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —É–ª—É—á—à–µ–Ω–∏—è (P0)

#### 1. **–ú–æ–±–∏–ª—å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è TimestampedLyricsDisplay**
**–ü—Ä–æ–±–ª–µ–º–∞:** –¢–µ–∫—Å—Ç —Å–ª–∏—à–∫–æ–º –º–µ–ª–∫–∏–π –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö (< 768px)

**–†–µ—à–µ–Ω–∏–µ:**
```tsx
// src/components/lyrics/TimestampedLyricsDisplay.tsx
<div className="text-base sm:text-2xl md:text-3xl">
  {/* –°–µ–π—á–∞—Å: 1rem / 1.5rem / 1.875rem */}
  {/* –ù—É–∂–Ω–æ: 1.25rem / 2rem / 2.5rem */}
</div>
```

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** P0 (–±–ª–æ–∫–∏—Ä—É–µ—Ç UX –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö)
**–û—Ü–µ–Ω–∫–∞:** 30 –º–∏–Ω—É—Ç

---

#### 2. **Touch-friendly —ç–ª–µ–º–µ–Ω—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è**
**–ü—Ä–æ–±–ª–µ–º–∞:** –ö–Ω–æ–ø–∫–∏ < 44px (WCAG –º–∏–Ω–∏–º—É–º)

**–†–µ—à–µ–Ω–∏–µ:**
```tsx
// –î–æ–±–∞–≤–∏—Ç—å –∫–ª–∞—Å—Å touch-target-min (44px)
<Button className="touch-target-min">
  <PlayIcon />
</Button>
```

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** P0 (accessibility)
**–û—Ü–µ–Ω–∫–∞:** 1 —á–∞—Å (–∞—É–¥–∏—Ç –≤—Å–µ—Ö –∫–Ω–æ–ø–æ–∫)

---

### –í—ã—Å–æ–∫–æ–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è (P1)

#### 3. **–¢–µ–º–Ω–∞—è —Ç–µ–º–∞ –¥–ª—è –ª–∏—Ä–∏–∫–∏**
**–û–ø–∏—Å–∞–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å —Ç–µ–º–Ω—É—é —Ç–µ–º—É –¥–ª—è –Ω–æ—á–Ω–æ–≥–æ –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è.

**–î–∏–∑–∞–π–Ω:**
- –ß–µ—Ä–Ω—ã–π —Ñ–æ–Ω (`bg-black`)
- –¢–µ–∫—Å—Ç `text-white` / `text-gray-300`
- –ê–∫—Ç–∏–≤–Ω–∞—è —Å—Ç—Ä–æ–∫–∞: `text-primary`
- –ü—Ä–æ–≥—Ä–µ—Å—Å: Gradient `from-primary to-accent`

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** P1
**–û—Ü–µ–Ω–∫–∞:** 2 —á–∞—Å–∞

---

#### 4. **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ª–∏—Ä–∏–∫–∏**
**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –†–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞ (S/M/L/XL)
- –°–∫–æ—Ä–æ—Å—Ç—å –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ (Auto/Manual)
- –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å/—Å–∫—Ä—ã–≤–∞—Ç—å –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏
- –†–µ–∂–∏–º –∫–∞—Ä–∞–æ–∫–µ (—Ç–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω–∞—è —Å—Ç—Ä–æ–∫–∞)

**UI:**
```tsx
<LyricsSettingsDialog>
  <Select label="Font Size" options={['S', 'M', 'L', 'XL']} />
  <Switch label="Auto-scroll" />
  <Switch label="Karaoke Mode" />
</LyricsSettingsDialog>
```

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** P1
**–û—Ü–µ–Ω–∫–∞:** 4 —á–∞—Å–∞

---

#### 5. **Prefetch Queue –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**
**–û–ø–∏—Å–∞–Ω–∏–µ:** –£–º–Ω–∞—è –ø—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–Ω–∏—è.

**–ê–ª–≥–æ—Ä–∏—Ç–º:**
```typescript
const prefetchPriority = (track: Track, queuePosition: number) => {
  const proximityScore = 1 / (queuePosition + 1); // –ë–ª–∏–∂–µ = –≤—ã—à–µ
  const playCountScore = track.play_count / 100;
  const recentScore = isRecentlyPlayed(track) ? 0.5 : 0;

  return proximityScore + playCountScore + recentScore;
};

// Prefetch top 3 –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É
const topTracks = queue
  .map((t, i) => ({ track: t, priority: prefetchPriority(t, i) }))
  .sort((a, b) => b.priority - a.priority)
  .slice(0, 3);
```

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** P1
**–û—Ü–µ–Ω–∫–∞:** 3 —á–∞—Å–∞

---

### –°—Ä–µ–¥–Ω–µ–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è (P2)

#### 6. **–≠–∫—Å–ø–æ—Ä—Ç –ª–∏—Ä–∏–∫–∏ –≤ —Ñ–∞–π–ª**
**–§–æ—Ä–º–∞—Ç—ã:**
- `.lrc` (Synced Lyrics)
- `.txt` (Plain text)
- `.srt` (Subtitles)

**–ü—Ä–∏–º–µ—Ä `.lrc`:**
```
[00:12.00]Hello world
[00:15.50]This is a test
[00:19.20]Synchronized lyrics
```

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** P2
**–û—Ü–µ–Ω–∫–∞:** 2 —á–∞—Å–∞

---

#### 7. **–ü–æ–∏—Å–∫ –ø–æ –ª–∏—Ä–∏–∫–µ –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ**
**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- Full-text search –ø–æ —Å–ª–æ–≤–∞–º
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ç–µ–≥–∞–º
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—é
- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏

**UI:**
```tsx
<LyricsLibrary>
  <SearchBar placeholder="–ü–æ–∏—Å–∫ –ø–æ —Å–ª–æ–≤–∞–º, —Ç–µ–≥–∞–º..." />
  <TagFilter tags={['Pop', 'Rock', 'Euphoric']} />
  <LyricsGrid results={filteredLyrics} />
</LyricsLibrary>
```

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** P2
**–û—Ü–µ–Ω–∫–∞:** 5 —á–∞—Å–æ–≤

---

#### 8. **–†–µ–¥–∞–∫—Ç–æ—Ä –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —à—Ç–∞–º–ø–æ–≤**
**–û–ø–∏—Å–∞–Ω–∏–µ:** –†—É—á–Ω–∞—è –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —à—Ç–∞–º–ø–æ–≤ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏.

**UI:**
```tsx
<TimestampEditor>
  <Waveform audioUrl={track.audio_url} />
  <LyricsTimeline words={timestampedWords} />
  <WordEditor
    word="Hello"
    startS={12.5}
    endS={13.2}
    onUpdate={handleUpdate}
  />
</TimestampEditor>
```

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** P2
**–û—Ü–µ–Ω–∫–∞:** 8 —á–∞—Å–æ–≤

---

## üìÖ Roadmap

### Q4 2025 (–ù–æ—è–±—Ä—å - –î–µ–∫–∞–±—Ä—å)

**Sprint 33** (–∑–∞–≤–µ—Ä—à—ë–Ω ‚úÖ)
- ‚úÖ Webhook idempotency
- ‚úÖ Storage cleanup
- ‚úÖ P0 fixes (z-index, rate limiting)

**Sprint 34** (15-22 –Ω–æ—è–±—Ä—è)
- üìã Webhook signature verification
- üìã Archive tracks system
- üìã Integration tests

**Sprint 35: Lyrics UX** (23 –Ω–æ—è–±—Ä—è - 6 –¥–µ–∫–∞–±—Ä—è) **‚≠ê –ù–û–í–´–ô**
- üéØ P0.1: –ú–æ–±–∏–ª—å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è TimestampedLyricsDisplay
- üéØ P0.2: Touch-friendly –∫–Ω–æ–ø–∫–∏ (audit –≤—Å–µ—Ö lyrics –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤)
- üéØ P1.1: –¢–µ–º–Ω–∞—è —Ç–µ–º–∞ –¥–ª—è –ª–∏—Ä–∏–∫–∏
- üéØ P1.2: –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è (—Ä–∞–∑–º–µ—Ä, –ø—Ä–æ–∫—Ä—É—Ç–∫–∞, –∫–∞—Ä–∞–æ–∫–µ)
- üéØ P1.3: Prefetch queue –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

**Sprint 36: Lyrics Features** (7-20 –¥–µ–∫–∞–±—Ä—è)
- üìù P2.1: –≠–∫—Å–ø–æ—Ä—Ç –ª–∏—Ä–∏–∫–∏ (.lrc, .txt, .srt)
- üìù P2.2: –ü–æ–∏—Å–∫ –ø–æ –ª–∏—Ä–∏–∫–µ –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ
- üìù P2.3: Bulk –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ

---

### Q1 2026 (–Ø–Ω–≤–∞—Ä—å - –ú–∞—Ä—Ç)

**Sprint 37: Advanced Lyrics** (–Ø–Ω–≤–∞—Ä—å)
- üîß –†–µ–¥–∞–∫—Ç–æ—Ä –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —à—Ç–∞–º–ø–æ–≤
- üîß –ò–º–ø–æ—Ä—Ç .lrc —Ñ–∞–π–ª–æ–≤
- üîß –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å YouTube Music

**Sprint 38: AI Enhancements** (–§–µ–≤—Ä–∞–ª—å)
- ü§ñ –ü–µ—Ä–µ–≤–æ–¥ –ª–∏—Ä–∏–∫–∏ –Ω–∞ –¥—Ä—É–≥–∏–µ —è–∑—ã–∫–∏
- ü§ñ –£–ª—É—á—à–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞ AI-–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –ª–∏—Ä–∏–∫–∏
- ü§ñ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ —ç–º–æ—Ü–∏—è–º

**Sprint 39: Collaboration** (–ú–∞—Ä—Ç)
- üë• Shared lyrics –±–∏–±–ª–∏–æ—Ç–µ–∫–∞
- üë• –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∏ annotations
- üë• Version control –¥–ª—è –ª–∏—Ä–∏–∫–∏

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [Suno API Lyrics Docs](https://docs.suno.ai/lyrics)
- [LRC Format Specification](https://en.wikipedia.org/wiki/LRC_(file_format))
- [Web Audio API](https://developer.mozilla.org/en-US/docs/Web/API/Web_Audio_API)

### –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã
- `docs/ARCHITECTURE.md` - –û–±—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- `docs/BACKEND_ARCHITECTURE.md` - Edge Functions
- `project-management/SPRINT_STATUS.md` - –°—Ç–∞—Ç—É—Å —Å–ø—Ä–∏–Ω—Ç–æ–≤

### –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- `src/components/player/LyricsDisplay.tsx` - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –ø–ª–µ–µ—Ä
- `tests/unit/utils/lyricsParser.test.ts` - Unit —Ç–µ—Å—Ç—ã
- `tests/e2e/lyrics-library.spec.ts` - E2E —Ç–µ—Å—Ç—ã

---

## üéØ –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- ‚ö° –ó–∞–≥—Ä—É–∑–∫–∞ –ª–∏—Ä–∏–∫–∏: < 100ms (—Å –∫–µ—à–µ–º)
- ‚ö° –ü–µ—Ä–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞: < 500ms
- ‚ö° –†–∞–∑–º–µ—Ä IndexedDB: < 50MB (–¥–ª—è 100 —Ç—Ä–µ–∫–æ–≤)

### UX
- üëç –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è: ¬±50ms —Ç–æ—á–Ω–æ—Å—Ç—å
- üëç –ü–ª–∞–≤–Ω–æ—Å—Ç—å –ø—Ä–æ–∫—Ä—É—Ç–∫–∏: 60 FPS
- üëç Touch targets: ‚â• 44px (WCAG AAA)

### Adoption
- üìä –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –ª–∏—Ä–∏–∫–∏: > 70% –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- üìä –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫—É: > 30% —Ç—Ä–µ–∫–æ–≤
- üìä AI-–≥–µ–Ω–µ—Ä–∞—Ü–∏—è: > 40% –Ω–æ–≤—ã—Ö —Ç—Ä–µ–∫–æ–≤

---

**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞**: 2.0
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: 2025-11-12
**–ê–≤—Ç–æ—Ä—ã**: Albert3 Development Team
**–ö–æ–Ω—Ç–∞–∫—Ç**: [GitHub Issues](https://github.com/HOW2AI-AGENCY/albert3-muse-synth-studio/issues)
