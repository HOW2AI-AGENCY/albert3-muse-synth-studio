# üîç –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –æ—Ç–ª–∞–¥–∫–µ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—é

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ](#—Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ-–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ)
2. [–£—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è](#—É—Ä–æ–≤–Ω–∏-–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è)
3. [–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –ø–æ–ª—è](#–∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ-–ø–æ–ª—è)
4. [Sentry –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è](#sentry-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è)
5. [Edge Functions –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ](#edge-functions-–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ)
6. [–ü–æ–∏—Å–∫ –∏ –∞–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤](#–ø–æ–∏—Å–∫-–∏-–∞–Ω–∞–ª–∏–∑-–ª–æ–≥–æ–≤)
7. [–ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã](#—á–∞—Å—Ç—ã–µ-–ø—Ä–æ–±–ª–µ–º—ã)

---

## üìù –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

**Albert3 Muse Synth Studio** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **—Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è** –¥–ª—è –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω–æ–≥–æ —Å–±–æ—Ä–∞ –∏ –∞–Ω–∞–ª–∏–∑–∞ —Å–æ–±—ã—Ç–∏–π –∫–∞–∫ –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ, —Ç–∞–∫ –∏ –Ω–∞ –±—ç–∫–µ–Ω–¥–µ (Edge Functions).

### –ó–∞—á–µ–º –Ω—É–∂–µ–Ω —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π logger?

- ‚úÖ **–ï–¥–∏–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –ª–æ–≥–æ–≤** ‚Äî –≤—Å–µ —Å–æ–±—ã—Ç–∏—è –∏–º–µ—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É
- ‚úÖ **–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö (timestamp, userId, trackId)
- ‚úÖ **Sentry –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** ‚Äî –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ø–∞–¥–∞—é—Ç –≤ Sentry
- ‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –º–∞—Å–∫–∏—Ä–æ–≤–∫–∞ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (—Ç–æ–∫–µ–Ω—ã, –ø–∞—Ä–æ–ª–∏, API –∫–ª—é—á–∏)
- ‚úÖ **–£–¥–æ–±–Ω—ã–π –ø–æ–∏—Å–∫** ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ JSON –ª–æ–≥–∏ –ª–µ–≥–∫–æ —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å

### –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã

```typescript
// ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û: –ü—Ä—è–º–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ console.*
console.log('Track generated:', trackId);
console.error('Generation failed:', error);

// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ logger
import { logger } from '@/utils/logger';

logger.info('Track generated', 'MusicGenerator', { trackId, duration: 120 });
logger.error('Generation failed', error, 'MusicGenerator', { trackId, prompt });
```

---

## üéØ –£—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

### 1. **ERROR** ‚Äî –ö—Ä–∏—Ç–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –û—à–∏–±–∫–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç—Ä–µ–∫–æ–≤
- –°–±–æ–∏ API –∑–∞–ø—Ä–æ—Å–æ–≤
- –û—à–∏–±–∫–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- –ò—Å–∫–ª—é—á–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ —Ç—Ä–µ–±—É—é—Ç –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ –≤–Ω–∏–º–∞–Ω–∏—è

**–ü—Ä–∏–º–µ—Ä—ã:**

```typescript
// Frontend
import { logError } from '@/utils/logger';

logError('Failed to generate track', error, 'MusicGenerator', {
  trackId,
  userId,
  provider: 'suno',
  prompt: userPrompt
});

// Edge Functions
import { logger } from '../_shared/logger.ts';

logger.error('Suno API request failed', {
  error,
  endpoint: 'https://api.sunoapi.org/...',
  trackId,
  retries: 3
});
```

### 2. **WARN** ‚Äî –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- Fallback –Ω–∞ —Ä–µ–∑–µ—Ä–≤–Ω—ã–π endpoint
- –ü—Ä–µ–≤—ã—à–µ–Ω–∏–µ –∫–≤–æ—Ç
- –£—Å—Ç–∞—Ä–µ–≤—à–∏–µ —Ç—Ä–µ–∫–∏ –≤ –∫—ç—à–µ
- –ù–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–µ, –Ω–æ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ —Å–∏—Ç—É–∞—Ü–∏–∏

**–ü—Ä–∏–º–µ—Ä—ã:**

```typescript
logWarn('Storage quota exceeded, clearing cache', 'TrackCache', {
  quotaExceeded: true,
  cacheSize: 150
});

logger.warn('Suno API rate limit approaching', {
  remaining: 5,
  resetTime: new Date().toISOString()
});
```

### 3. **INFO** ‚Äî –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –£—Å–ø–µ—à–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç—Ä–µ–∫–∞
- –ù–∞—á–∞–ª–æ/–∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –¥–æ–ª–≥–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
- –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è

**–ü—Ä–∏–º–µ—Ä—ã:**

```typescript
logInfo('Track generated successfully', 'MusicGenerator', {
  trackId,
  duration: 130,
  provider: 'suno',
  userId
});

logger.info('Starting stem separation', {
  trackId,
  mode: 'separate_vocal',
  versionId
});
```

### 4. **DEBUG** ‚Äî –û—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –¢—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- –î–µ—Ç–∞–ª–∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤
- –¢–æ–ª—å–∫–æ –≤ development —Ä–µ–∂–∏–º–µ

**–ü—Ä–∏–º–µ—Ä—ã:**

```typescript
logDebug('Cache hit for track', 'TrackCache', {
  trackId,
  cachedAt: new Date(cacheTimestamp).toISOString()
});

logger.debug('Polling Suno task status', {
  taskId,
  attempt: 3,
  nextPollIn: 5000
});
```

---

## üè∑Ô∏è –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –ø–æ–ª—è

### Best Practices –¥–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ª–æ–≥–æ–≤

```typescript
// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û: –î–æ–±–∞–≤–ª—è–µ–º —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç
logger.info('Track playback started', 'AudioPlayer', {
  trackId,
  userId,
  duration: 180,
  hasVersions: true,
  queuePosition: 3
});

// ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û: –ë–µ–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
logger.info('Track started');
```

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

| –°—Ü–µ–Ω–∞—Ä–∏–π | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è | –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–æ–ª—è |
|----------|-------------------|-------------------|
| **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç—Ä–µ–∫–∞** | `trackId`, `userId`, `provider` | `prompt`, `styleTags`, `duration` |
| **–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ** | `trackId`, `userId` | `duration`, `queuePosition`, `versionId` |
| **–û—à–∏–±–∫–∏ API** | `endpoint`, `statusCode`, `trackId` | `retries`, `timeout`, `userId` |
| **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** | `operation`, `trackId` | `cacheSize`, `quotaExceeded`, `ttl` |
| **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞** | `eventType`, `trackId`, `userId` | `duration`, `position`, `source` |

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –º–∞—Å–∫–∏—Ä–æ–≤–∫–∞ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

Logger **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –º–∞—Å–∫–∏—Ä—É–µ—Ç** —Å–ª–µ–¥—É—é—â–∏–µ –ø–æ–ª—è:

- `token`, `apiKey`, `secret`, `password`, `authorization`, `cookie`, `credential`

```typescript
// –í—ã –ø–∏—à–µ—Ç–µ:
logger.info('Auth successful', 'Auth', {
  userId: '123',
  token: 'supersecret_abc123', // ‚Üê –±—É–¥–µ—Ç –∑–∞–º–∞—Å–∫–∏—Ä–æ–≤–∞–Ω–æ
  email: 'user@example.com'
});

// –í –ª–æ–≥–∞—Ö –ø–æ—è–≤–∏—Ç—Å—è:
{
  "userId": "123",
  "token": "sup***23", // ‚Üê –º–∞—Å–∫–∏—Ä–æ–≤–∫–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∞
  "email": "user@example.com"
}
```

---

## üõ°Ô∏è Sentry –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –≤ Sentry

–í—Å–µ –ª–æ–≥–∏ —É—Ä–æ–≤–Ω—è **ERROR** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ø–∞–¥–∞—é—Ç –≤ Sentry –≤–º–µ—Å—Ç–µ —Å:
- Stack trace
- Breadcrumbs (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 50 —Å–æ–±—ã—Ç–∏–π)
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç (userId, email)
- –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

```typescript
// –≠—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—Å—Ç —Å–æ–±—ã—Ç–∏–µ –≤ Sentry:
logError('Track generation timeout', new Error('Timeout after 5 minutes'), 'MusicGenerator', {
  trackId,
  provider: 'suno',
  duration: 300
});
```

### Breadcrumbs

–õ–æ–≥–∏ —É—Ä–æ–≤–Ω—è **INFO**, **WARN**, **DEBUG** –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –∫–∞–∫ breadcrumbs –≤ Sentry:

```typescript
logInfo('User clicked generate button', 'UI', { prompt: 'epic rock' });
logWarn('API response slow', 'ApiService', { latency: 3000 });
// ‚Üì –ï—Å–ª–∏ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç –æ—à–∏–±–∫–∞, —ç—Ç–∏ —Å–æ–±—ã—Ç–∏—è –±—É–¥—É—Ç –≤–∏–¥–Ω—ã –≤ Sentry –∫–∞–∫ breadcrumbs
logError('Generation failed', error, 'MusicGenerator', { trackId });
```

---

## ‚öôÔ∏è Edge Functions –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ logger –≤ Deno Edge Functions

```typescript
// supabase/functions/generate-suno/index.ts
import { logger } from '../_shared/logger.ts';

Deno.serve(async (req) => {
  try {
    logger.info('Received generate request', {
      method: req.method,
      url: req.url
    });

    // ... –≤–∞—à–∞ –ª–æ–≥–∏–∫–∞ ...

    logger.info('Track generated successfully', {
      taskId,
      trackId,
      duration: 120
    });

    return new Response(JSON.stringify({ success: true }));
  } catch (error) {
    logger.error('Generation failed', {
      error,
      trackId,
      endpoint: 'generate-suno'
    });
    
    return new Response(JSON.stringify({ error: error.message }), {
      status: 500
    });
  }
});
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ª–æ–≥–æ–≤ Edge Functions

Edge Functions logger –≤—ã–≤–æ–¥–∏—Ç **JSON** –ª–æ–≥–∏ –≤ —Å–ª–µ–¥—É—é—â–µ–º —Ñ–æ—Ä–º–∞—Ç–µ:

```json
{
  "timestamp": "2025-10-11T10:30:45.123Z",
  "level": "info",
  "message": "Track generated successfully",
  "context": {
    "taskId": "abc123",
    "trackId": "uuid-...",
    "duration": 120
  }
}
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ Edge Functions

```bash
# –õ–æ–∫–∞–ª—å–Ω–æ (Supabase CLI)
supabase functions logs generate-suno --since 5m

# Production (Supabase Dashboard)
# https://supabase.com/dashboard/project/YOUR_PROJECT/logs/edge-functions
```

---

## üîç –ü–æ–∏—Å–∫ –∏ –∞–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤

### Frontend –ª–æ–≥–∏ (Browser Console)

–õ–æ–≥–∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É—é—Ç—Å—è —Å emoji –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞:

```
üî¥ 2025-10-11T10:30:45.123Z [MusicGenerator] Track generation failed
   Context: {"trackId":"...","provider":"suno","error":"Timeout"}
```

### –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –≤ Console

```javascript
// –í DevTools Console:
localStorage.setItem('debug', 'true'); // –í–∫–ª—é—á–∏—Ç—å DEBUG –ª–æ–≥–∏
localStorage.removeItem('debug');      // –í—ã–∫–ª—é—á–∏—Ç—å DEBUG –ª–æ–≥–∏
```

### –ü–æ–∏—Å–∫ –≤ Sentry

1. **–ü–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É**:
   - –§–∏–ª—å—Ç—Ä: `context.trackId:"uuid-..."`
   - –§–∏–ª—å—Ç—Ä: `context.provider:"suno"`

2. **–ü–æ —É—Ä–æ–≤–Ω—é**:
   - `level:error`
   - `level:warning`

3. **–ü–æ —Å–æ–æ–±—â–µ–Ω–∏—é**:
   - `message:"generation failed"`

### –≠–∫—Å–ø–æ—Ä—Ç –ª–æ–≥–æ–≤

```typescript
import { logger } from '@/utils/logger';

// –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –ª–æ–≥–∏
const allLogs = logger.getLogs();

// –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ JSON
const jsonLogs = logger.exportLogs();

// –°–∫–∞—á–∞—Ç—å —Ñ–∞–π–ª
const blob = new Blob([jsonLogs], { type: 'application/json' });
const url = URL.createObjectURL(blob);
const a = document.createElement('a');
a.href = url;
a.download = `logs-${Date.now()}.json`;
a.click();
```

---

## ‚ùì –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. **ESLint —Ä—É–≥–∞–µ—Ç—Å—è –Ω–∞ console.log**

```
error  Unexpected console statement  no-console
```

**–†–µ—à–µ–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ logger –≤–º–µ—Å—Ç–æ console.*

```typescript
// ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ
console.log('Track generated');

// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ
import { logInfo } from '@/utils/logger';
logInfo('Track generated', 'MusicGenerator', { trackId });
```

---

### 2. **Infinite Loop –≤ useTrackSync** (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ v2.6.3)

**–ü—Ä–æ–±–ª–µ–º–∞**: –ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã–µ reconnect attempts –ø—Ä–∏ –ø–æ—Ç–µ—Ä–µ Realtime —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è.

**–†–µ—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤–ª–µ–Ω–∞ guard clause –≤ retry logic:

```typescript
// –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ reconnect
if (!channelRef.current && !isConnecting) {
  subscribeToChannel();
}
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞**: –û—Ç–∫–ª—é—á–∏—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –Ω–∞ 10 —Å–µ–∫—É–Ω–¥ –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å - –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å Stack Overflow.

---

### 3. **–õ–æ–≥–∏ –Ω–µ –ø–æ—è–≤–ª—è—é—Ç—Å—è –≤ Sentry**

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**
- Sentry –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ `src/main.tsx`)
- DSN –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ `.env`)
- –£—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∏–∂–µ ERROR (breadcrumbs –Ω–µ –≤–∏–¥–Ω—ã –¥–æ –æ—à–∏–±–∫–∏)

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**

```typescript
import { hasSentryClient } from '@/utils/logger';

if (hasSentryClient()) {
  console.log('Sentry –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ');
} else {
  console.error('Sentry –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω!');
}
```

---

### 3. **–°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –ª–æ–≥–æ–≤ –≤ production**

**–†–µ—à–µ–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —É—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

```typescript
// ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ: INFO –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–∞–¥—Ä–∞ –∞–Ω–∏–º–∞—Ü–∏–∏
setInterval(() => {
  logInfo('Animation frame rendered', 'Player', { frame: i++ });
}, 16);

// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ: DEBUG –¥–ª—è —á–∞—Å—Ç—ã—Ö —Å–æ–±—ã—Ç–∏–π
setInterval(() => {
  logDebug('Animation frame', 'Player', { frame: i++ });
}, 16);
```

---

### 4. **–ù–µ –≤–∏–∂—É Edge Function –ª–æ–≥–æ–≤**

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
1. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ª–∏ –≤—ã `logger` –∏–∑ `_shared/logger.ts`?
2. –î–µ–ø–ª–æ–π –≤—ã–ø–æ–ª–Ω–µ–Ω —É—Å–ø–µ—à–Ω–æ?
3. –õ–æ–≥–∏ –ø–æ—è–≤–ª—è—é—Ç—Å—è –Ω–µ –º–≥–Ω–æ–≤–µ–Ω–Ω–æ (–∑–∞–¥–µ—Ä–∂–∫–∞ ~10-30 —Å–µ–∫)

**–õ–æ–∫–∞–ª—å–Ω–∞—è –æ—Ç–ª–∞–¥–∫–∞:**

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ Edge Functions –ª–æ–∫–∞–ª—å–Ω–æ
supabase functions serve generate-suno --inspect-mode brk

# –õ–æ–≥–∏ –±—É–¥—É—Ç –≤–∏–¥–Ω—ã –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ
```

---

### 5. **–õ–æ–≥–∏ —Å–æ–¥–µ—Ä–∂–∞—Ç —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ**

Logger **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –º–∞—Å–∫–∏—Ä—É–µ—Ç** –≤—Å–µ –ø–æ–ª—è —Å keywords:
- `token`, `key`, `secret`, `password`, `authorization`, `cookie`, `credential`

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Å–≤–æ–π keyword:

```typescript
// src/utils/logger.ts
const SENSITIVE_KEYWORDS = [
  ...existingKeywords,
  'myCustomSecret', // –¥–æ–±–∞–≤—å—Ç–µ —Å–≤–æ–π
];
```

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [Sentry Documentation](https://docs.sentry.io/)
- [Structured Logging Best Practices](https://www.datadoghq.com/blog/structured-logging/)
- [Supabase Edge Functions Logging](https://supabase.com/docs/guides/functions/logging)

---

**–í–µ—Ä—Å–∏—è**: 1.0.0  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: 2025-10-11  
**–ê–≤—Ç–æ—Ä—ã**: Albert3 Development Team
