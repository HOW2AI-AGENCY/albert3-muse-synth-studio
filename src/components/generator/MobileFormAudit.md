# üì± –ê—É–¥–∏—Ç –º–æ–±–∏–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏ —Ñ–æ—Ä–º—ã –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞

## ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ö–æ—Ä–æ—à–æ

### 1. **–ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å**
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `useIsMobile()` hook –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –º–æ–±–∏–ª—å–Ω–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
- ‚úÖ –£—Å–ª–æ–≤–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö/–¥–µ—Å–∫—Ç–æ–ø–Ω—ã—Ö –≤–µ—Ä—Å–∏–π
- ‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã –ø–æ–ª–µ–π (`h-10` –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö, `h-8-9` –Ω–∞ –¥–µ—Å–∫—Ç–æ–ø–µ)
- ‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ `font-size` (`text-base` –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö –¥–ª—è –ª—É—á—à–µ–π —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏)

### 2. **Touch-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**
- ‚úÖ –ö–Ω–æ–ø–∫–∏ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ (min `h-10` = 40px)
- ‚úÖ Drawer –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö (`h-[90vh]`)
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –æ—Ç—Å—Ç—É–ø—ã –¥–ª—è thumb-–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏

### 3. **Performance**
- ‚úÖ Debouncing –¥–ª—è Prompt –∏ Lyrics (300ms)
- ‚úÖ Lazy loading –¥–ª—è `AudioDescriber`
- ‚úÖ Memo –¥–ª—è —Ñ–æ—Ä–º (`SimpleModeForm`, `CustomModeForm`)

### 4. **Scroll Management**
- ‚úÖ `ScrollArea` –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- ‚úÖ `max-h-[calc(90vh-120px)]` –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö
- ‚úÖ –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π scroll –¥–ª—è –∂–∞–Ω—Ä–æ–≤—ã—Ö –ø—Ä–µ—Å–µ—Ç–æ–≤

---

## ‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### 1. **–ñ–∞–Ω—Ä–æ–≤—ã–µ –ø—Ä–µ—Å–µ—Ç—ã (–ò–°–ü–†–ê–í–õ–ï–ù–û)**
**–ü—Ä–æ–±–ª–µ–º–∞:** –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π scroll –Ω–µ –±—ã–ª –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è touch-—É—Å—Ç—Ä–æ–π—Å—Ç–≤

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
```tsx
// –î–æ–±–∞–≤–ª–µ–Ω scroll snap
<div className="flex gap-2 pb-2 px-1" style={{ scrollSnapType: 'x mandatory' }}>
  
// –î–æ–±–∞–≤–ª–µ–Ω—ã touch-–∫–ª–∞—Å—Å—ã
className="...snap-start touch-pan-x active:scale-[0.98]..."
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ü–ª–∞–≤–Ω—ã–π scroll —Å –ø—Ä–∏–≤—è–∑–∫–æ–π –∫ —ç–ª–µ–º–µ–Ω—Ç–∞–º
- ‚úÖ Touch-friendly –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ
- ‚úÖ –í–∏–∑—É–∞–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏

---

### 2. **Input Accessibility**
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ–∫–æ—Ç–æ—Ä—ã–µ `<Input>` –∏ `<Textarea>` –º–æ–≥—É—Ç –∑—É–º–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ iOS –ø—Ä–∏ —Ñ–æ–∫—É—Å–µ

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
```tsx
// –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π font-size 16px –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö
className={cn(
  "text-sm",
  isMobile ? "h-10 text-base" : "h-9" // text-base = 16px
)}
```

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –£–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ –ø–æ–ª–µ–π

---

### 3. **Accordion –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö**
**–ü—Ä–æ–±–ª–µ–º–∞:** `type="single"` –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö ‚Äî –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—É–¥–æ–±–Ω–æ

**–¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
```tsx
// Mobile
<Accordion type="single" collapsible>

// Desktop
<Accordion type="multiple" defaultValue={["lyrics"]}>
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
- ‚úÖ –û—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å (single –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —ç–∫–æ–Ω–æ–º–∏—Ç –º–µ—Å—Ç–æ)
- –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: `type="multiple"` + —É–º–µ–Ω—å—à–∏—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç –≤–Ω—É—Ç—Ä–∏ —Å–µ–∫—Ü–∏–π

---

### 4. **Generate Button Position**
**–ü—Ä–æ–±–ª–µ–º–∞:** –ö–Ω–æ–ø–∫–∞ –º–æ–∂–µ—Ç —Å–∫—Ä—ã–≤–∞—Ç—å—Å—è –ø–æ–¥ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–æ–π

**–¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
```tsx
<Button className="w-full h-10 text-sm font-medium gap-2 mt-3">
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
```tsx
// –î–æ–±–∞–≤–∏—Ç—å sticky button –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö
<div className={cn(
  "w-full mt-3",
  isMobile && "sticky bottom-0 bg-background/95 backdrop-blur-sm py-3 -mx-3 px-3 border-t"
)}>
  <Button className="w-full h-12 text-base font-semibold">
    ...
  </Button>
</div>
```

**–ü–æ–ª—å–∑–∞:** –ö–Ω–æ–ø–∫–∞ –≤—Å–µ–≥–¥–∞ –≤–∏–¥–Ω–∞, –¥–∞–∂–µ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–æ–π –∫–ª–∞–≤–∏–∞—Ç—É—Ä–µ

---

### 5. **Keyboard Shortcuts**
**–ü—Ä–æ–±–ª–µ–º–∞:** `Cmd/Ctrl+Enter` –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö

**–¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
```tsx
useEffect(() => {
  const handleKeyDown = (e: KeyboardEvent) => {
    if ((e.metaKey || e.ctrlKey) && e.key === 'Enter') {
      handleGenerate();
    }
  };
  // ...
}, []);
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
- ‚úÖ –û—Å—Ç–∞–≤–∏—Ç—å –¥–ª—è –¥–µ—Å–∫—Ç–æ–ø–∞
- –î–æ–±–∞–≤–∏—Ç—å hint —Ç–æ–ª—å–∫–æ –Ω–∞ –¥–µ—Å–∫—Ç–æ–ø–µ:
```tsx
{!isMobile && (
  <span className="text-xs text-muted-foreground">
    –ì–æ—Ä—è—á–∞—è –∫–ª–∞–≤–∏—à–∞: Cmd+Enter
  </span>
)}
```

---

### 6. **ScrollArea Performance**
**–ü—Ä–æ–±–ª–µ–º–∞:** –í–ª–æ–∂–µ–Ω–Ω—ã–µ `ScrollArea` –º–æ–≥—É—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤–∞—Ç—å

**–¢–µ–∫—É—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```
MusicGeneratorV2
‚îî‚îÄ‚îÄ ScrollArea (main content)
    ‚îî‚îÄ‚îÄ GenrePresets
        ‚îî‚îÄ‚îÄ ScrollArea (horizontal)
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `overflow-x-auto` –≤–º–µ—Å—Ç–æ `ScrollArea` –¥–ª—è –ø—Ä–µ—Å–µ—Ç–æ–≤
- –ò–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å `type="scroll"` –¥–ª—è —è–≤–Ω–æ–≥–æ —É–∫–∞–∑–∞–Ω–∏—è –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è

```tsx
<ScrollArea className="w-full md:hidden" type="scroll">
```

**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö

---

### 7. **Safe Area Insets**
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–∞ iPhone —Å notch –∫–æ–Ω—Ç–µ–Ω—Ç –º–æ–∂–µ—Ç –ø–æ–ø–∞–¥–∞—Ç—å –≤ unsafe area

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
```tsx
// –í MusicGeneratorV2
<motion.div 
  className={cn(
    "flex flex-col h-full card-elevated",
    isMobile && "rounded-none pb-safe" // –î–æ–±–∞–≤–∏—Ç—å padding –¥–ª—è safe area
  )}
>
```

```css
/* –í tailwind.config.ts */
extend: {
  spacing: {
    'safe': 'env(safe-area-inset-bottom)',
  }
}
```

---

### 8. **Loading States**
**–ü—Ä–æ–±–ª–µ–º–∞:** –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–≥—É—Ç –±—ã—Ç—å —Å–ª–∏—à–∫–æ–º –º–µ–ª–∫–∏–º–∏

**–¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
```tsx
<Music className="h-4 w-4 animate-spin" />
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
```tsx
<Music className={cn(
  "animate-spin",
  isMobile ? "h-5 w-5" : "h-4 w-4"
)} />
```

---

### 9. **Error Validation**
**–ü—Ä–æ–±–ª–µ–º–∞:** Toast —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –º–æ–≥—É—Ç –±—ã—Ç—å –ø—Ä–æ–ø—É—â–µ–Ω—ã –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö

**–¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
```tsx
toast({ 
  title: '–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø—Ä–æ–º–ø—Ç –∏–ª–∏ —Ç–µ–∫—Å—Ç –ø–µ—Å–Ω–∏',
  variant: 'destructive'
});
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
- ‚úÖ –î–æ–±–∞–≤–∏—Ç—å inline validation errors
```tsx
{!params.prompt.trim() && showError && (
  <p className="text-xs text-destructive mt-1">
    –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ
  </p>
)}
```

---

### 10. **Focus Management**
**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–æ—Å–ª–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ñ–æ–∫—É—Å –æ—Å—Ç–∞–µ—Ç—Å—è –Ω–∞ –∫–Ω–æ–ø–∫–µ

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
```tsx
const handleGenerate = async () => {
  // ... generation logic
  
  if (started && isMobile) {
    // Blur button to hide keyboard
    (document.activeElement as HTMLElement)?.blur();
  }
};
```

---

## üéØ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (—Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–µ–π—á–∞—Å)
1. ‚úÖ **Horizontal scroll –¥–ª—è –ø—Ä–µ—Å–µ—Ç–æ–≤** ‚Äî –ò–°–ü–†–ê–í–õ–ï–ù–û
2. ‚ö†Ô∏è **Sticky Generate button** ‚Äî —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è
3. ‚ö†Ô∏è **Safe area insets** ‚Äî –¥–ª—è iPhone X+

### –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (–ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)
4. **Inline validation errors** ‚Äî —É–ª—É—á—à–∞–µ—Ç UX
5. **Focus management** ‚Äî –ø–æ–ª–∏—Ä—É–µ—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ
6. **Loading indicators size** ‚Äî —É–ª—É—á—à–∞–µ—Ç –≤–∏–¥–∏–º–æ—Å—Ç—å

### –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
7. **Keyboard shortcuts hint** ‚Äî —Ç–æ–ª—å–∫–æ –¥–ª—è –¥–µ—Å–∫—Ç–æ–ø–∞
8. **ScrollArea type optimization** ‚Äî —Ç—Ä–µ–±—É–µ—Ç A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

---

## üìä –ú–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è

### Performance
- [ ] First Contentful Paint < 1.8s
- [ ] Largest Contentful Paint < 2.5s
- [ ] Cumulative Layout Shift < 0.1
- [ ] First Input Delay < 100ms

### Usability
- [ ] Touch target size ‚â• 44px
- [ ] Font size ‚â• 16px (–¥–ª—è inputs)
- [ ] Contrast ratio ‚â• 4.5:1
- [ ] Scroll snap —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–ª–∞–≤–Ω–æ

---

## ‚úÖ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:** 8/10

**–û—Å–Ω–æ–≤–Ω—ã–µ –¥–æ—Å—Ç–æ–∏–Ω—Å—Ç–≤–∞:**
- –û—Ç–ª–∏—á–Ω–∞—è –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å
- –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã touch-—ç–ª–µ–º–µ–Ω—Ç–æ–≤
- Performance –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ (debouncing, lazy loading)

**–¢—Ä–µ–±—É–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏:**
- Horizontal scroll –¥–ª—è –ø—Ä–µ—Å–µ—Ç–æ–≤ ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û
- Sticky button –¥–ª—è –ª—É—á—à–µ–π –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
- Safe area handling –¥–ª—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö iPhone

**–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**
1. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É —Å —Ä–∞–∑–Ω—ã–º–∏ —Ä–∞–∑–º–µ—Ä–∞–º–∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
3. A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ UX —É–ª—É—á—à–µ–Ω–∏–π
